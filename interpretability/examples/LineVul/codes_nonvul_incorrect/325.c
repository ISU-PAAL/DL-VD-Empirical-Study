// commit message qemu@245f7b51c0 (target=0, prob=0.5385128, correct=False): vnc: rename vnc-encoding-* vnc-enc-*
/*0  */ static uint32_t tight_palette_buf2rgb(int bpp, const uint8_t *buf)  // (6) 0.08766
/*2  */ {                                                                   // (13) 0.003247
/*4  */     uint32_t rgb = 0;                                               // (7) 0.03571
/*8  */     if (bpp == 32) {                                                // (8) 0.03571
/*10 */         rgb |= ((buf[0] & ~1) | !((buf[4] >> 3) & 1)) << 24;        // (2) 0.1136
/*12 */         rgb |= ((buf[1] & ~1) | !((buf[4] >> 2) & 1)) << 16;        // (3) 0.1136
/*14 */         rgb |= ((buf[2] & ~1) | !((buf[4] >> 1) & 1)) <<  8;        // (0) 0.1169
/*16 */         rgb |= ((buf[3] & ~1) | !((buf[4] >> 0) & 1)) <<  0;        // (1) 0.1169
/*18 */     }                                                               // (11) 0.01299
/*20 */     if (bpp == 16) {                                                // (9) 0.03571
/*22 */         rgb |= ((buf[0] & ~1) | !((buf[2] >> 1) & 1)) << 8;         // (5) 0.1136
/*24 */         rgb |= ((buf[1] & ~1) | !((buf[2] >> 0) & 1)) << 0;         // (4) 0.1136
/*26 */     }                                                               // (12) 0.01299
/*28 */     return rgb;                                                     // (10) 0.01948
/*30 */ }                                                                   // (14) 0.003247
